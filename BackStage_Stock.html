<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/stock.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <title>商品庫存</title>
</head>
<body id="top">
    <header>
        <a href=""><img src="./images/logo.png"></a>
    </header>
    <div class="content">
        <div class="sidebar">
            <ul class="list">
                <li><img src="./images/rec.png" alt="item">商品管理</li>
                <ul class="list2">
                    <li><a href="./BackStage_Create.html"><img src="./images/arrow-down.png" alt="create">新增商品</a></li>
                    <li><a href="./BackStage_Mange.html"><img src="./images/arrow-down.png" alt="mange">商品管理</a></li>
                    <li><a href="./BackStage_Stock.html"><img src="./images/arrow-down.png" alt="stcok">商品庫存</a></li>
                </ul>
                <li><img src="./images/rec.png" alt="order">訂單管理</li>
                <ul class="list2">
                    <li><a href="./Order_not.html"><img src="./images/arrow-down.png" alt="create">未出貨</a></li>
                    <li><a href="./Order_go.html"><img src="./images/arrow-down.png" alt="mange">已出貨</a></li>
                    <li><a href="./Order_finish.html"><img src="./images/arrow-down.png" alt="stcok">已完成</a></li>
                </ul>
                <li><img src="./images/rec.png" alt="QA">問答管理</li>
                <ul class="list2">
                    <li><a href="./QA_not.html"><img src="./images/arrow-down.png" alt="create">未回覆</a></li>
                    <li><a href="./QA_finish.html"><img src="./images/arrow-down.png" alt="mange">已回復</a></li>
                </ul>
            </ul>
        </div>
        <div class="content_right">
            <div class="content_right_title">
                <div class="content_right_title_img">
                    <img src="./images/shopping-bag.png" width="30px" height="30px" style="margin-right: 10px;"><b>商品庫存</b>
                </div>
                <div class="search-container">
                    <input type="text" placeholder="請輸入商品名稱" id="search_text">
                    <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                </div>
            </div>
            <div class="content_right_table">
                <table>
                    <tr>
                      <th>新增日期</th>
                      <th>商品名稱</th>
                      <th>儲存空間</th>
                      <th>顏色</th>
                      <th>庫存</th>
                      <th>單價</th>
                      <th>操作</th>
                    </tr>
                    <tr>
                      <td rowspan="6">2024/03/19</td>
                      <td rowspan="6">iPhone 15</td>
                      <td rowspan="3">1TB²</td>
                      <td>灰色</td>
                      <td>500</td>
                      <td>40,000</td>
                      <td>
                        <input type="button" value="修改" class="button_edit">
                      </td>
                    </tr>
                    <tr>
                        <td>黑色</td>
                        <td id="out_of">缺貨</td>
                        <td>40,000</td>
                        <td>
                            <input type="button" value="修改" class="button_edit">
                        </td>
                    </tr>
                    <tr>
                        <td>白色</td>
                        <td>500</td>
                        <td>40,000</td>
                        <td>
                            <input type="button" value="修改" class="button_edit">
                        </td>
                    </tr>
                    <tr>
                        <td rowspan="3">512GB²</td>
                        <td>灰色</td>
                        <td>500</td>
                        <td>35,000</td>
                        <td>
                          <input type="button" value="修改" class="button_edit">
                        </td>
                      </tr>
                      <tr>
                          <td>黑色</td>
                          <td id="out_of">缺貨</td>
                          <td>35,000</td>
                          <td>
                            <input type="button" value="修改" class="button_edit">
                          </td>
                      </tr>
                      <tr>
                          <td>白色</td>
                          <td>500</td>
                          <td>35,000</td>
                          <td>
                            <input type="button" value="修改" class="button_edit">
                          </td>
                      </tr>
                      
                </table>
            </div>
        </div>
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <form>
                    <div class="create">
                        <div id ="field1"><p>商品品牌：</p>
                        </div>
                        APPLE
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品名稱：</p>
                        </div>
                        iPhone 15 Pro Max
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品顏色：</p>
                        </div>
                        白色鈦金屬
                    </div>
                    <div class="create">
                        <div id ="field1"><p>儲存空間：</p>
                        </div>
                        256G
                    </div>
                    <div class="create">
                        <div id ="field1"><p>庫存數量：</p>
                        </div>
                        <div>
                            <div class="numbox">
                                <button class="min" type="button" onclick="opera('val', false);"> - </button>
                                <input class="num" type="number" id="val" value="1"/>
                                <button class="plus" type="button" onclick="opera('val', true);"> + </button>
                            </div>
                            <script type="text/javascript">
                                function opera(x, y) {
                                    var rs = new Number(document.getElementById(x).value);
                                    if (y) {
                                        document.getElementById(x).value = rs + 1;
                                    } else if( rs >0) {
                                        document.getElementById(x).value = rs - 1;
                                    }
                                        
                                }
                            </script>
                        </div> 
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品單價：</p>
                        </div>
                        <input type="text" placeholder="NT$xxx,xxx" required id ="field2">
                        <script>
                            // 獲取輸入框元素
                            var inputField = document.getElementById('field2');
                            
                            // 在輸入時處理值
                            inputField.addEventListener('input', function(event) {
                                // 移除所有非數字字符
                                var value = this.value.replace(/\D/g, "");
                                // 將數字轉換成千分位格式
                                var formattedValue = Number(value).toLocaleString();
                                // 將處理後的值設置回輸入框
                                this.value = formattedValue;
                            });
                        </script>
                    </div>
                    <div class="button">
                        <input type="reset" value="重設" id="button1"></input>
                        <input type="submit" value="修改完畢" id="button2">
                    </div>
                </form>
            </div>
        </div>
    <div class="icon">
        <a href="#top"><img src="./images/top.png" style="width: 45px; height: 45px;"></a>
    </div>
    <script>
        // 获取按钮
        var editButtons = document.querySelectorAll('.button_edit');

        // 获取弹窗和关闭按钮
        var modal = document.getElementById("myModal");
        var closeBtn = document.getElementsByClassName("close")[0];

        // 点击编辑按钮时显示弹窗
        editButtons.forEach(function(button) {
            button.addEventListener('click', function() {
                modal.style.display = "block";
            });
        });

        // 点击关闭按钮或者窗口外部区域时关闭弹窗
        closeBtn.addEventListener('click', function() {
            modal.style.display = "none";
        });

        window.addEventListener('click', function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        });
    </script>
</body>
</html>