<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/Create.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <title>新增商品</title>
</head>
<body id="top">
    <header>
        <a href="./login.html"><img src="./images/logo.png"></a>
        <div class="header_right">
            <a href="./login.html"><p>登出</p></a>
            <img src="./images/menu_icon.png" id="menu-icon">
        </div>
    </header>
    <div class="content">
        <div class="sidebar" id="sidebar">
            <ul class="list">
                <li><img src="./images/rec.png" alt="item">商品管理</li>
                <ul class="list2">
                    <li><a href="./BackStage_Create.html"><img src="./images/arrow-down.png" alt="create">新增商品</a></li>
                    <li><a href="./BackStage_Mange.html"><img src="./images/arrow-down.png" alt="mange">商品管理</a></li>
                    <li><a href="./BackStage_Stock.html"><img src="./images/arrow-down.png" alt="stcok">商品庫存</a></li>
                </ul>
                <li><img src="./images/rec.png" alt="order">訂單管理</li>
                <ul class="list2">
                    <li><a href="./Order_not.html"><img src="./images/arrow-down.png" alt="create">未出貨</a></li>
                    <li><a href="./Order_go.html"><img src="./images/arrow-down.png" alt="mange">已出貨</a></li>
                    <li><a href="./Order_finish.html"><img src="./images/arrow-down.png" alt="stcok">已完成</a></li>
                </ul>
                <li><img src="./images/rec.png" alt="QA">問答管理</li>
                <ul class="list2">
                    <li><a href="./QA_not.html"><img src="./images/arrow-down.png" alt="create">未回覆</a></li>
                    <li><a href="./QA_finish.html"><img src="./images/arrow-down.png" alt="mange">已回覆</a></li>
                </ul>
            </ul>
        </div>
        <div class="content_right">
            <div class="content_right_title">
                <img src="./images/magic-wand.png" width="30px" height="30px"><b>新增商品</b>
            </div>
            <div class="content_right_table">
                <form action="/api/Back/AddProduct" class="form" id="CreateForm" method="post">
                    <div class="create">
                        <div id ="field1" ><p>商品品牌：</p>
                        </div>
                        <select id="field2" name="Brand">
                            <option value="option0" disabled selected>請選擇</option>
                            <option value="Apple">Apple</option>
                            <option value="SAMSUNG">SAMSUNG</option>
                            <option value="ASUS">ASUS</option>
                            <option value="OPPO">OPPO</option>
                            <option value="SONY">SONY</option>
                            <option value="vivo">vivo</option>
                            <option value="realme">realme</option>
                            <option value="htc">htc</option>
                            <option value="Google Pixel">Google Pixel</option>
                            <option value="mi">mi</option>
                            <option value="Nokia">Nokia</option>
                            <option value="Huawei">Huawei</option>
                        </select>
                    </div>
                    <div class="create ">
                        <div id ="field1"><p>商品名稱：</p>
                        </div>
                        <input type="text" required id ="field2" name="ItemName">
                    </div>
                    <div class="create ">
                        <div id ="field1"><p>商品顏色：</p>
                        </div>
                        <input type="text" required id ="field2" name="Color">
                    </div>
                    <div class="create">
                        <div id ="field1"><p>儲存空間：</p>
                        </div>
                        <select id="field2" name="Space">
                            <option value="option0" disabled selected>請選擇</option>
                            <option value="128GB">128GB</option>
                            <option value="256GB">256GB</option>
                            <option value="512GB">512GB</option>
                            <option value="1TB">1TB</option>
                        </select>
                    </div>
                    <div class="create">
                        <div id="field1"><p>庫存數量：</p></div>
                        <div>
                            <div class="numbox ">
                                <button class="min" type="button" onclick="opera('val', false);"> - </button>
                                <input class="num" type="text" id="val" value="1" name="Store" required id ="price-field" oninput="formatNumber(this);">
                                <button class="plus" type="button" onclick="opera('val', true);"> + </button>
                            </div>
                            <script type="text/javascript">
                                function numberWithCommas(x) {
                                    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                                }
                                function opera(x, y) {
                                    var rs = new Number(document.getElementById(x).value.replace(/\,/g,''));
                                    if (y) {
                                        document.getElementById(x).value = numberWithCommas(rs + 1);
                                    } else if (rs > 1) {
                                        document.getElementById(x).value = numberWithCommas(rs - 1);
                                    }
                                }
                                function formatNumber(element) {
                                    var value = element.value.replace(/\D/g, "");
                                    element.value = numberWithCommas(value);
                                }
                            </script>
                        </div> 
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品單價：</p>
                        </div>
                        <input type="text" placeholder="NT$xxx,xxx" required id ="price-field" name="ItemPrice">
                        <script>
                            // 獲取輸入框元素
                            var inputField = document.getElementById('price-field');
                            
                            // 在輸入時處理值
                            inputField.addEventListener('input', function(event) {
                                // 移除所有非數字字符
                                var value = this.value.replace(/\D/g, "");
                                // 將數字轉換成千分位格式
                                var formattedValue = Number(value).toLocaleString();
                                // 將處理後的值設置回輸入框
                                this.value = formattedValue;
                            });
                        </script>
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品介紹：</p>
                        </div>
                        <textarea name="Instruction" rows="5" cols="40" required id ="field4" name="Instruction"></textarea>
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品封面圖：</p>
                        </div>
                        <input type="file" id ="main_ItemImg" multiple name="ItemImg" onchange="GetMainFileName(event)">
                    </div>
                    <div class="create">
                        <div id ="field1"><p>商品圖片：</p>
                        </div>
                        <input type="file" id ="field3_ItemImg" multiple name="ItemImg" onchange="GetFileName(event)">
                    </div>
                </div>
                <div class="button">
                    <input type="reset" value="重設" id="button1">
                    <input type="submit" value="上架" id="button2">
                </div>
            </form>
            
            
        </div>
    </div>
    <div class="icon">
        <a href="#top"><img src="./images/top.png" style="width: 45px; height: 45px;"></a>
    </div>
    <script src="./js/Create_item.js"></script>
</body>
</html>